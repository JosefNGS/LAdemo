[build]
  command = "npm run build"
  publish = "frontend/dist"
  functions = "backend/netlify/functions"

[build.environment]
  NODE_VERSION = "20"
  # Ensure devDependencies are installed (some builds fail if they are skipped)
  NPM_FLAGS = "--include=dev"
  NPM_CONFIG_PRODUCTION = "false"

[functions]
  # Function timeout settings (in seconds)
  submit-email.timeout = 10
  submit-email-supabase.timeout = 10

[[redirects]]
  from = "/*"
  to = "/index.html"
  status = 200

